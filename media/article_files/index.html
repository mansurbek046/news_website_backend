<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gallery</title>
  <style>
    body {
      background-color: black;
      margin: 0!important;
      padding: 0;
      width: 100%;
      text-align: center;
    }
    
    img{
      display: inline-block;
      width: 30%;
      border: 1px solid black;
      transition: .3s;
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }
    img:hover{
      width: 100%;
      margin: 3px 0!important;
    }
    img:active{
      opacity: .5;
    }
    
    .lock{
      width: 100%;
      height: 80vh;
      position: absolute;
      top: 0;
      background: black;
      z-index: 9999;
    }
    
    input{
      width: 70%;
      font-size: 20px;
      padding: 10px;
      border-radius: 10px;
      border: 2px solid limegreen;
      outline: none;
      background-color: black;
      color: limegreen;
      text-align: center;
      margin-top: 10vh;
      font-weight: 700;
      letter-spacing: 10px;
    }
    input::placeholder{
      color: limegreen;
      opacity: .3;
    }
    
    .bar{
      width: 100%;
      position: fixed;
      top: 0;
      padding: 8px;
      background: rgba(0, 0, 0, .5);
      backdrop-filter: blur(5px);
    }
    
    .content{
      margin-top: 45px;
    }
    
    .upload{
      font-size: 20px;
      border: 2px solid limegreen;
      background: none;
      transition: .3s;
      padding: 3px 8px;
      font-weight: bold;
      text-align: center;
      margin-left: 60vw;
      color: limegreen;
      border-radius: 5px;
      outline: none;
      font-family: sans-serif;
    }
    
    .upload:active{
      background-color: limegreen;
    }
    
    #file-input {
      display: none;
    }
    
  </style>
</head>

<body>
  <div class="lock">
    <input type="password" placeholder="__________" />
  </div>
  <div class="photos">
    <div class="bar">
      <label for="file-input" class="upload">upload</label>
      <input type="file" id="file-input" accept="image/jpeg" />
    </div>
    <div class="content">
    </div>
  </div>
  <script>
    const lock = document.querySelector('.lock');
    const input = document.querySelector('.lock input');
    const password = 'asyam';
    input.addEventListener('input', () => {
      if (password == input.value) {
        input.value = "";
        lock.style.display = 'none';
        show();
      }
    })
    
    //show
    const content = document.querySelector('.content');
    const show = () => {
      content.innerHTML = "";
      let urls = JSON.parse(localStorage.getItem('__urls_of_photos_0'));
      if (urls) {
        urls.forEach((e) => {
          let img = new Image();
          img.src = e;
          img.name = e;
          content.append(img);
        })
      }
    }
    
    //upload
    const upload = document.querySelector('#file-input');
    upload.addEventListener("input", () => {
      var file = upload.files[0]
      const fr = new FileReader();
      fr.readAsDataURL(file);
      fr.addEventListener("load", () => {
        const url = fr.result;
        let urls = JSON.parse(localStorage.getItem('__urls_of_photos_0'));
        urls = urls ? urls : [];
        urls.push(url);
        localStorage.setItem('__urls_of_photos_0', JSON.stringify(urls));
        show();
      })
    })
  </script>
</body>

</html>
